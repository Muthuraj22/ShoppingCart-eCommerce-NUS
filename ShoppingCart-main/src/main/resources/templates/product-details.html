
<!--
Author: Muthu Raj, Yue-Sheng
-->

<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css">
    <link rel="stylesheet" th:href="@{/css/navbar.css}">
    <title>Product Details</title>

    <style>
        body {
            background-color: #f8f9fa;
            font-family: 'Segoe UI', sans-serif;
        }

        .details-card {
            background-color: #ffffff;
            padding: 2rem;
            border-radius: 0.75rem;
            box-shadow: 0 0 10px rgba(0,0,0,0.1);
            max-width: 600px;
            margin: 2rem auto;
        }

        .details-table th {
            width: 35%;
        }

        .btn-add-cart {
            background-color: #0d6efd;
            color: #fff;
            border: none;
        }

        .btn-add-cart:hover {
            background-color: #0b5ed7;
            color: #fff;
        }

        a.back-link {
            text-decoration: none;
            color: #0d6efd;
        }

        a.back-link:hover {
            text-decoration: underline;
        }
    </style>
</head>
<body>


<div th:replace="~{fragments/navbar :: navbar}"></div>

<div class="details-card text-center">
    <h2>Product Details</h2>


    <div class="my-3">
        <img th:src="${(product.imagePath == null or #strings.isEmpty(product.imagePath))
                       ? '/images/placeholder.png'
                       : product.imagePath}"
             alt="Product image"
             class="img-fluid rounded"
             style="max-width:200px; object-fit: cover;">
    </div>


    <table class="table table-bordered details-table mt-3">
        <tbody>
        <tr>
            <th>Id</th>
            <td th:text="${product.id}">Id</td>
        </tr>
        <tr>
            <th>Name</th>
            <td th:text="${product.name}">Name</td>
        </tr>
        <tr>
            <th>Category</th>
            <td th:text="${product.category.name}">Category</td>
        </tr>
        <tr>
            <th>Description</th>
            <td th:text="${product.description}">Description</td>
        </tr>
        <tr>
            <th>Price</th>
            <td th:text="'$ '+ ${#numbers.formatDecimal(product.unitPrice, 1, 2)}">Price</td>
        </tr>
        <tr>
            <th>Stock Quantity</th>
            <td th:text="${product.stockQty}">Stock Quantity</td>
        </tr>
        </tbody>
    </table>


    <div class="my-3">
        <form th:action="@{/cart/items/add}" method="post">
            <input type="hidden" name="productId" th:value="${product.id}"/>
            <input type="hidden" name="redirect" value="details"/>
            <button type="submit" class="btn btn-add-cart">
                <i class="bi bi-cart-plus"></i> Add to Cart
            </button>
        </form>
    </div>


    <div class="mt-3">
        <a href="/products" class="back-link">Back to Product List</a>
    </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
